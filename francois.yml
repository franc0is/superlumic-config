---

- hosts: 127.0.0.1
  connection: local

  tasks:
    - name: tap caskroom/versions
      homebrew_tap: tap=caskroom/versions state=present

    - name: install cask applications
      homebrew_cask: name={{item}} state=present
      with_items:
	- 1password
	- alfred
	- dash
        - dropbox
	- flux
	- firefox
	- gimp
        - google-chrome
	- gpgtools
        - istat-menus
	- java
	- nvalt
	- rescuetime
	- skype
        - spotify
	- steam
	- vlc
	- yubico-authenticator

    - name: install brew applications
      homebrew: name={{item}} state=latest
      with_items:
	- autoconf
	- automake
	- bash
	- bash-completion
	- bcrypt
	- binutils
	- cscope
	- ctags
	- curl
	- docker
	- docker-compose
	- docker-machine
	- doxygen
	- gcc
	- git
	- git-ewxtras
	- gnupg21
	- grep
	- ncdu
	- neovim
	- node
	- mosh
	- openssh
	- openssl
	- pypy
	- python
	- readline
	- reattach-to-user-namespace
	- ruby
	- tmux
	- tree
	- valgrind
	- vim
	- wget
	- xhvyve
	- yubikey-personalization
	- zlib
	- z

  vars:
    - computername: francois-mbp
    - git_user_name: Fran√ßois Baldassari
    - git_user_email: baldassarifr@gmail.com
    - osx_defaults:
      - domain: 'com.apple.dock'
        key: 'autohide'
        type: boolean
        value: true
      - domain: 'com.apple.dock'
        key: 'minimize-to-application'
        type: integer
        value: 1
      - domain: 'com.apple.dock'
        key: 'show-process-indicators'
        type: boolean
        value: true
      - domain: 'com.apple.dock'
        key: 'orientation'
        type: string
        value: left
      - domain: 'NSGlobalDomain'
        key: 'NSTableViewDefaultSizeMode'
        type: integer
        value: 1
      - domain: 'com.apple.screencapture'
        key: 'type'
        type: string
        value: png
      - domain: 'NSGlobalDomain'
        key: 'KeyRepeat'
        type: integer
        value: 2
      - domain: 'NSGlobalDomain'
        key: 'InitialKeyRepeat'
        type: integer
        value: 15
      - domain: 'com.apple.menuextra.clock'
        key: 'DateFormat'
        type: string
        value: EEE MMM d  HH:mm
      - domain: 'com.apple.menuextra.battery'
        key: 'ShowPercent'
        type: string
        value: 'YES'
      - domain: 'com.apple.finder'
        key: 'FXPreferredViewStyle'
        type: string
        value: "clmv"
      - domain: 'NSGlobalDomain'
        key: 'NSNavPanelExpandedStateForSaveMode'
        type: boolean
        value: true
      - domain: 'NSGlobalDomain'
        key: 'PMPrintingExpandedStateForPrint'
        type: boolean
        value: true
      - domain: 'com.apple.dock'
        key: 'tilesize'
        type: float
        value: 32
      - domain: 'com.apple.dock'
        key: 'autohide-time-modifier'
        type: int
        value: 0
      - domain: 'com.apple.dock'
        key: 'autohide-delay'
        type: int
        value: 0
      - domain: 'NSGlobalDomain'
        key: 'NSQuitAlwaysKeepsWindows'
        type: boolean
        value: false
      - domain: 'com.apple.desktopservices'
        key: 'DSDontWriteNetworkStores'
        type: boolean
        value: true
      - domain: 'com.apple.print.PrintingPrefs'
        key: 'Quit When Finished'
        type: boolean
        value: true
      - domain: 'com.apple.Safari'
        key: 'IncludeInternalDebugMenu'
        type: boolean
        value: true
      - domain: 'com.apple.Safari'
        key: 'IncludeDevelopMenu'
        type: boolean
        value: true
      - domain: 'com.apple.Safari'
        key: 'WebKitDeveloperExtrasEnabledPreferenceKey'
        type: boolean
        value: true
      - domain: 'com.apple.Safari'
        key: 'com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled'
        type: boolean
        value: true
      - domain: 'NSGlobalDomain'
        key: 'WebKitDeveloperExtras'
        type: boolean
        value: true
